{"version":3,"file":"src_app_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAEd;;;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;AAMK,MAAM,sBAAsB;;4FAAtB,sBAAsB;mHAAtB,sBAAsB;uHAHvB,kEAAqB,CAAC,MAAM,CAAC,EAC7B,yDAAY;mIAEX,sBAAsB,oFAFvB,yDAAY;;;;;;;;;;;;;;;;;;;;;;ACbuB;AACmB;AAErB;AAEmB;AAEvB;AACa;;;AAc/C,MAAM,eAAe;;8EAAf,eAAe;4GAAf,eAAe;gHAVxB,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,yEAAsB;QACtB,+DAAmB;QACnB,yEAAwB,EAAE;mIAKjB,eAAe,mBAHX,kDAAS,aAPtB,yDAAY;QACZ,uDAAW;QACX,uDAAW;QACX,yEAAsB;QACtB,+DAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBvB;AAGA;AAEA;AAEA;AAEA;AACA;AAEA;;;;;;;;;;;;;ICyCgBS,6DAAAA;IACEA,qDAAAA;;IACFA,2DAAAA;;;;IADEA,wDAAAA;IAAAA,iEAAAA,MAAAA,0DAAAA;;;;;;IAEFA,6DAAAA;IACEA,qDAAAA;;IACFA,2DAAAA;;;;IADEA,wDAAAA;IAAAA,iEAAAA,MAAAA,0DAAAA;;;;;;IANNA,6DAAAA,eAA4F,CAA5F,EAA4F,UAA5F,EAA4F,EAA5F;IAEIA,yDAAAA;IAGAA,yDAAAA;IAGFA,2DAAAA;;;;;IANUA,wDAAAA;IAAAA,yDAAAA;IAGAA,wDAAAA;IAAAA,yDAAAA;;;;;;IAWdA,6DAAAA;IAA6BA,qDAAAA;;IAA4BA,2DAAAA;;;;IAA5BA,wDAAAA;IAAAA,gEAAAA,CAAAA,0DAAAA;;;;;;IAC7BA,wDAAAA;;;;;;IACAA,wDAAAA;;;;ADlDJ,MAAOC,SAAP,CAAgB;EA0BpBC,YACUC,SADV,EAEUC,IAFV,EAGUC,MAHV,EAIUC,MAJV,EAKUC,OALV,EAMUC,eANV,EAOUC,QAPV,EAQUC,SARV,EAQqC;IAP3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA/BV,mBAAcf,8EAAd;IACA,YAAY,sDAAZ;IACA,yBAAoB,EAApB;IAIA,mBAAsB,IAAtB,CAyBqC,CAzBT;;IAE5B,iBAAY;MACViB,YAAY,EAAE,CADJ;MAEVC,KAAK,EAAE,GAFG;MAGVC,QAAQ,EAAE;QACRC,KAAK,EAAE,IADC;QAERC,oBAAoB,EAAE;MAFd,CAHA;MAOVC,UAAU,EAAE;QACVC,SAAS,EAAE;MADD;IAPF,CAAZ,CAuBqC,CAEnC;;IACA,KAAKC,WAAL,GAAmB,KAAnB;IACA,KAAKC,OAAL,GAAe,KAAf;EACD;;EAEKC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,IAAL,GAAY,IAAI9B,sDAAJ,CAAc;QACxB+B,KAAK,EAAE,IAAIhC,wDAAJ,CAAgB,IAAhB,EAAsB;UAC3BiC,UAAU,EAAE,CAAC/B,gEAAD,EAAsBA,iEAAA,CAAqB,EAArB,CAAtB,EAAgDA,iEAAA,CAAqB,EAArB,CAAhD;QADe,CAAtB;MADiB,CAAd,CAAZ;MAMA,KAAI,CAACmC,iBAAL,GAAyB,KAAI,CAACjB,WAA9B,CAPY,CASZ;;MACA,MAAM,KAAI,CAACkB,YAAL,EAAN,CAVY,CAYZ;;MACAC,UAAU,CAAC,MAAK;QACd,KAAI,CAAC1B,IAAL,CAAU2B,SAAV;MACD,CAFS,EAEP,GAFO,CAAV;;MAIA,KAAI,CAACC,iCAAL,GAjBY,CAiB8B;;IAjB9B;EAkBb;;EAEDC,WAAW;IACT,IAAI,KAAKC,sBAAT,EAAiC;MAC/B,KAAKA,sBAAL,CAA4BC,WAA5B;IACD,CAHQ,CAIT;;;IACA,KAAK/B,IAAL,CAAUgC,cAAV;EACD;;EAEKP,YAAY;IAAA;;IAAA;MAChB,IAAI;QACF,MAAM;UAAEQ;QAAF,UAAkBtC,mEAAA,CAAgB;UAAEwC,GAAG,EAAE;QAAP,CAAhB,CAAxB;QACA,MAAMC,IAAI,GAAGH,KAAK,IAAI,IAAtB;QACAI,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,IAAjC,EAHE,CAKF;;QACA,MAAI,CAAC9B,SAAL,CAAeiC,cAAf,CAA8BH,IAA9B,EANE,CAQF;;;QACA,MAAM,MAAI,CAAC9B,SAAL,CAAekC,GAAf,CAAmBJ,IAAnB,EAAyBK,SAAzB,EAAN;QAEAJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,MAAI,CAAChC,SAAL,CAAeoC,WAAhD;QACAL,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,MAAI,CAAChC,SAAL,CAAeqC,cAAf,EAAjC,EAZE,CAcF;;QACA,MAAMC,OAAO,SAAS,MAAI,CAACtC,SAAL,CAAe4B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EAAtB;QACAJ,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCM,OAArC;MAED,CAlBD,CAkBE,OAAOC,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;;QACA,MAAI,CAACvC,SAAL,CAAeiC,cAAf,CAA8B,IAA9B;;QACA,MAAM,MAAI,CAACjC,SAAL,CAAekC,GAAf,CAAmB,IAAnB,EAAyBC,SAAzB,EAAN;MACD;IAvBe;EAwBjB;;EAIKK,UAAU;IAAA;MACd,MAAMrD,uEAAA,EAAN;IADc;EAEf;;EAEKuD,sBAAsB;IAAA;;IAAA;MAC1B,MAAMC,KAAK,SAAS,MAAI,CAAClD,SAAL,CAAemD,MAAf,CAAsB;QACxCC,SAAS,EAAEzD,6GAA2BA;MADE,CAAtB,CAApB;MAIA,MAAMuD,KAAK,CAACG,OAAN,EAAN;MAEA,MAAM;QAAEC;MAAF,UAAiBJ,KAAK,CAACK,aAAN,EAAvB;;MACA,IAAID,IAAJ,EAAU;QACRhB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCe,IAAjC;QACA,MAAI,CAACtC,WAAL,GAAmBsC,IAAI,CAACE,QAAxB;QACA,MAAI,CAACvC,OAAL,GAAeqC,IAAI,CAACE,QAApB;QACA,MAAI,CAACC,IAAL,GAAYH,IAAI,CAACG,IAAjB;QACA,MAAI,CAACC,WAAL,GAAmBJ,IAAI,CAACK,OAAxB;MACD;IAdyB;EAe3B;;EAEDC,eAAe,CAACC,KAAD,EAAW;IACxB,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAN,CAAa7B,KAAb,CAAmB8B,WAAnB,EAAnB;IACA,KAAKvC,iBAAL,GAAyB,KAAKjB,WAAL,CAAiByD,MAAjB,CAAwBC,OAAO,IACtDA,OAAO,CAACC,IAAR,CAAaH,WAAb,GAA2BI,QAA3B,CAAoCN,UAApC,KACAI,OAAO,CAACV,QAAR,CAAiBY,QAAjB,CAA0BN,UAA1B,CAFuB,CAAzB;EAID;;EAEDO,iBAAiB,CAACC,MAAD,EAAY;IAC3B,KAAKtD,WAAL,GAAmB,EAAnB;IACA,KAAKC,OAAL,GAAeqD,MAAM,CAACC,MAAP,CAAcrC,KAAd,CAAoBsC,QAApB,EAAf;EACD;;EAEKC,IAAI;IAAA;MACR,MAAMhF,+EAAA,CAA6B;QAAEW,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEKuE,IAAI;IAAA;MACR,MAAMlF,+EAAA,CAA6B;QAAEW,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAET;;EAEKwE,MAAM;IAAA;;IAAA;MACV,IAAI;QACF,IAAI,CAAC,MAAI,CAACzD,IAAL,CAAU0D,KAAf,EAAsB;UACpB,MAAMC,YAAY,GAAG,MAAI,CAAC3D,IAAL,CAAUgB,GAAV,CAAc,OAAd,EAAuB4C,QAAvB,CAAgC,UAAhC,UACX,MAAI,CAACxE,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EADW,SAEX,MAAI,CAACnC,SAAL,CAAe4B,GAAf,CAAmB,gBAAnB,EAAqCO,SAArC,EAFV;;UAGA,MAAI,CAACtC,OAAL,CAAa4E,SAAb,OACQ,MAAI,CAACzE,SAAL,CAAe4B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EADR,EAEEoC,YAFF;;UAIA;QACD;;QAED,MAAI,CAAC1E,OAAL,CAAa6E,UAAb,CAAwB,EAAxB;;QACA,MAAMC,eAAe,GAAG,MAAI,CAACjE,OAAL,GAAe,MAAI,CAACE,IAAL,CAAUe,KAAV,CAAgBd,KAAvD;QAEA,IAAI+D,kBAAJ;QACA,IAAIC,UAAU,GAAG,KAAjB;;QAEA,IAAI;UACFD,kBAAkB,SAAS,MAAI,CAAClF,IAAL,CAAUoF,qBAAV,CAAgCH,eAAhC,CAA3B;QACD,CAFD,CAEE,OAAOI,SAAP,EAAkB;UAClBhD,OAAO,CAACQ,KAAR,CAAc,uBAAd,EAAuCwC,SAAvC;;UACA,MAAI,CAAClF,OAAL,CAAamF,UAAb,GAFkB,CAIlB;;;UACA,MAAMC,sBAAsB,GAAG,CAC7B,wBAD6B,EAE7B,6BAF6B,EAG7B,qBAH6B,EAI7B,2BAJ6B,EAK7B,qBAL6B,CAA/B;;UAQA,IAAIA,sBAAsB,CAACpB,QAAvB,CAAgCkB,SAAS,CAACG,IAA1C,CAAJ,EAAqD;YACnD;YACA,MAAMC,mBAAmB,SAAS,MAAI,CAACC,2BAAL,CAAiCL,SAAS,CAACG,IAA3C,CAAlC;;YACA,IAAIC,mBAAJ,EAAyB;cACvB,OAAO,MAAI,CAACE,gBAAL,EAAP;YACD,CAFD,MAEO;cACL,OADK,CACG;YACT;UACF,CArBiB,CAuBlB;;;UACA,MAAM,MAAI,CAACC,eAAL,CAAqBP,SAArB,CAAN;UACA;QACD;;QAED,IAAIQ,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,EAAtD;;QACA,MAAI,CAAC5F,OAAL,CAAamF,UAAb;;QAEA,MAAMrC,KAAK,SAAS,MAAI,CAAClD,SAAL,CAAemD,MAAf,CAAsB;UACxCC,SAAS,EAAE7D,4DAD6B;UAExC0G,cAAc,EAAE;YACdC,UAAU,EAAEJ,SADE;YAEd1E,KAAK,EAAE,MAAI,CAACD,IAAL,CAAUe,KAAV,CAAgBd,KAFT;YAGd+E,WAAW,EAAE,MAAI,CAAClF,OAHJ;YAIdkE,kBAAkB,EAAEA,kBAJN;YAKdC,UAAU,EAAEA;UALE,CAFwB;UASxCgB,YAAY,EAAE;QAT0B,CAAtB,CAApB;QAYA,MAAMlD,KAAK,CAACG,OAAN,EAAN;QACA,MAAM;UAAEC;QAAF,UAAiBJ,KAAK,CAACK,aAAN,EAAvB;QAEA,IAAI,CAACD,IAAI,EAAE+C,IAAX,EAAiB;QAEjB,MAAM,MAAI,CAACC,kBAAL,CAAwBhD,IAAI,CAAC+C,IAA7B,CAAN;MAED,CAtED,CAsEE,OAAOE,CAAP,EAAU;QACVjE,OAAO,CAACQ,KAAR,CAAc,2BAAd,EAA2CyD,CAA3C;;QACA,MAAI,CAACnG,OAAL,CAAamF,UAAb;;QACA,MAAM,MAAI,CAACM,eAAL,CAAqBU,CAArB,CAAN;MACD;IA3ES;EA4EX;;EAEKZ,2BAA2B,CAACa,SAAD,EAAkB;IAAA;;IAAA;MACjD,IAAIC,UAAU,GAAG,EAAjB;MACA,IAAI3B,YAAY,GAAG,EAAnB;MACA,IAAI4B,YAAY,GAAG,EAAnB,CAHiD,CAKjD;;MACA,QAAQF,SAAR;QACE,KAAK,wBAAL;UACEC,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,0BAAnB,EAA+CO,SAA/C,EAArB;UACAgE,YAAY,SAAS,MAAI,CAACnG,SAAL,CAAe4B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAArB;UACA;;QACF,KAAK,qBAAL;QACA,KAAK,6BAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,kBAAnB,EAAuCO,SAAvC,EAArB;UACAgE,YAAY,SAAS,MAAI,CAACnG,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAArB;UACA;;QACF,KAAK,2BAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,uBAAnB,EAA4CO,SAA5C,EAArB;UACAgE,YAAY,SAAS,MAAI,CAACnG,SAAL,CAAe4B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAArB;UACA;;QACF,KAAK,qBAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,uBAAnB,EAA4CO,SAA5C,EAArB;UACAgE,YAAY,SAAS,MAAI,CAACnG,SAAL,CAAe4B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAArB;UACA;;QACF;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,wBAAnB,EAA6CO,SAA7C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAArB;UACAgE,YAAY,GAAG,EAAf;MAzBJ,CANiD,CAkCjD;;;MACA,MAAMC,WAAW,GAAGD,YAAY,GAC5B,GAAG5B,YAAY,OAAO4B,YAAY,OAAlC,MAA+C,MAAI,CAACnG,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAiD,EADpE,GAE5B,GAAGoC,YAAY,OAAf,MAA4B,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAiD,EAFjF;MAIA,OAAO,IAAIkE,OAAJ;QAAA,wIAAY,WAAOC,OAAP,EAAkB;UACnC,MAAMC,KAAK,SAAS,MAAI,CAACzG,eAAL,CAAqB8C,MAArB,CAA4B;YAC9C4D,MAAM,EAAEN,UADsC;YAE9CO,OAAO,EAAEL,WAFqC;YAG9CM,QAAQ,EAAE,aAHoC;YAI9CC,OAAO,EAAE,CACP;cACEC,IAAI,QAAQ,MAAI,CAAC5G,SAAL,CAAe4B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EADd;cAEE0E,IAAI,EAAE,QAFR;cAGEH,QAAQ,EAAE,WAHZ;cAIEI,OAAO,EAAE,MAAMR,OAAO,CAAC,KAAD;YAJxB,CADO,EAOP;cACEM,IAAI,QAAQ,MAAI,CAAC5G,SAAL,CAAe4B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EADd;cAEEuE,QAAQ,EAAE,SAFZ;cAGEI,OAAO,EAAE,MAAMR,OAAO,CAAC,IAAD;YAHxB,CAPO;UAJqC,CAA5B,CAApB;UAkBA,MAAMC,KAAK,CAACzD,OAAN,EAAN;QACD,CApBM;;QAAA;UAAA;QAAA;MAAA,IAAP;IAvCiD;EA4DlD;;EAEKuC,gBAAgB;IAAA;;IAAA;MACpB,MAAI,CAAC5E,WAAL,GAAmB,KAAnB;MACA,MAAI,CAACC,OAAL,GAAe,KAAf;MACA,MAAMqG,cAAc,GAAG,CAAC,WAAD,EAAc,WAAd,CAAvB;MACA,MAAMC,mBAAmB,GAAGD,cAAc,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBJ,cAAc,CAACK,MAA1C,CAAD,CAA1C;;MACA,MAAI,CAACxG,IAAL,CAAUyG,QAAV,CAAmB,OAAnB,EAA4BC,QAA5B,CAAqCN,mBAArC;;MACAxB,YAAY,CAAC+B,OAAb,CAAqB,YAArB,EAAmC,QAAnC,EANoB,CAQpB;;MACA,MAAM,MAAI,CAAC1H,OAAL,CAAa4E,SAAb,OACE,MAAI,CAACzE,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EADF,EAEJ,OAAM,MAAI,CAACnC,SAAL,CAAe4B,GAAf,CAAmB,mBAAnB,EAAwCO,SAAxC,EAAN,IAA4D,gBAAgB,MAAI,CAACnC,SAAL,CAAe4B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EAAuC,QAAQ6E,mBAAmB,kBAF1I,CAAN;IAToB;EAarB;;EAEK1B,eAAe,CAAC/C,KAAD,EAAW;IAAA;;IAAA;MAC9B,IAAI2D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,OAAnB,EAA4BO,SAA5B,EAAvB;MACA,IAAIoC,YAAY,GAAG,EAAnB;;MAEA,QAAQhC,KAAK,CAAC2C,IAAd;QACE,KAAK,2BAAL;UACEX,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,gBAAnB,EAAqCO,SAArC,EAArB;UACA;;QAEF,KAAK,2BAAL;UACEoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAArB;UACA;;QAEF,KAAK,6BAAL;UACEoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAArB;UACA;;QAEF,KAAK,wBAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,yBAAnB,EAA8CO,SAA9C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,mBAAnB,EAAwCO,SAAxC,EAArB;UACA;;QAEF,KAAK,6BAAL;QACA,KAAK,qBAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,iBAAnB,EAAsCO,SAAtC,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,mBAAnB,EAAwCO,SAAxC,EAArB;UACA;;QAEF,KAAK,2BAAL;UACE+D,UAAU,SAAS,MAAI,CAAClG,SAAL,CAAe4B,GAAf,CAAmB,sBAAnB,EAA2CO,SAA3C,EAAnB;UACAoC,YAAY,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,wBAAnB,EAA6CO,SAA7C,EAArB;UACA;;QAEF;UACEoC,YAAY,GAAG,SAAS,MAAI,CAACvE,SAAL,CAAe4B,GAAf,CAAmB,eAAnB,EAAoCO,SAApC,EAA+C,IAAII,KAAK,CAAC2C,IAAN,IAAc3C,KAAK,CAACkE,OAApB,IAA+B,eAAe,EAAzH;UACA;MA/BJ;;MAkCA,MAAM,MAAI,CAAC5G,OAAL,CAAa4E,SAAb,CAAuByB,UAAvB,EAAmC3B,YAAnC,CAAN;IAtC8B;EAuC/B;;EAEKwB,kBAAkB,CAACD,IAAD,EAAU;IAAA;;IAAA;MAChC,IAAI;QACF;QACA,MAAM0B,eAAe,SAAS,MAAI,CAAC5H,MAAL,CAAY6H,iBAAZ,CAA8B3B,IAAI,CAAC4B,GAAnC,CAA9B;;QAEA,IAAIF,eAAJ,EAAqB;UACnB;UACA,MAAI,CAAC7H,MAAL,CAAYgI,aAAZ,CAA0B,OAA1B,EAAmC;YAAEC,UAAU,EAAE;UAAd,CAAnC;QACD,CAHD,MAGO;UACL;UACA,MAAI,CAACjI,MAAL,CAAYgI,aAAZ,CAA0B,UAA1B,EAAsC;YAAEC,UAAU,EAAE;UAAd,CAAtC;QACD;MACF,CAXD,CAWE,OAAOrF,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,8BAAd,EAA8CA,KAA9C,EADc,CAEd;;QACA,MAAI,CAAC5C,MAAL,CAAYgI,aAAZ,CAA0B,UAA1B,EAAsC;UAAEC,UAAU,EAAE;QAAd,CAAtC;MACD;IAhB+B;EAiBjC;;EAEDtG,iCAAiC;IAC/B,KAAKE,sBAAL,GAA8B,KAAKzB,QAAL,CAAc8H,UAAd,CAAyBC,qBAAzB,CAA+C,EAA/C,EAAmD,MAAK;MACpF,KAAKC,gBAAL;IACD,CAF6B,CAA9B;EAGD;;EAEKA,gBAAgB;IAAA;;IAAA;MACpB,IAAI;QACF,MAAM,MAAI,CAACC,oBAAL,EAAN;MACD,CAFD,CAEE,OAAOzF,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,6BAAd,EAA6CA,KAA7C;MACD;IALmB;EAMrB;;EAEKyF,oBAAoB;IAAA;;IAAA;MACxB,MAAMzB,KAAK,SAAS,OAAI,CAACzG,eAAL,CAAqB8C,MAArB,CAA4B;QAC9C4D,MAAM,QAAQ,OAAI,CAACxG,SAAL,CAAe4B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EADgC;QAE9CsE,OAAO,QAAQ,OAAI,CAACzG,SAAL,CAAe4B,GAAf,CAAmB,cAAnB,EAAmCO,SAAnC,EAF+B;QAG9CwE,OAAO,EAAE,CACP;UACEC,IAAI,QAAQ,OAAI,CAAC5G,SAAL,CAAe4B,GAAf,CAAmB,QAAnB,EAA6BO,SAA7B,EADd;UAEE0E,IAAI,EAAE;QAFR,CADO,EAKP;UACED,IAAI,QAAQ,OAAI,CAAC5G,SAAL,CAAe4B,GAAf,CAAmB,MAAnB,EAA2BO,SAA3B,EADd;UAEE2E,OAAO,EAAE,MAAK;YACZmB,SAAS,CAAC,KAAD,CAAT,CAAiBC,OAAjB;UACD;QAJH,CALO;MAHqC,CAA5B,CAApB;MAgBA,MAAM3B,KAAK,CAACzD,OAAN,EAAN;IAjBwB;EAkBzB;;EAEKqF,cAAc,CAACrG,IAAD,EAAa;IAAA;;IAAA;MAC/BC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,IAArC;;MACA,IAAI;QACF;QACA,OAAI,CAAC9B,SAAL,CAAeiC,cAAf,CAA8BH,IAA9B,EAFE,CAIF;;;QACA,MAAM,OAAI,CAAC9B,SAAL,CAAekC,GAAf,CAAmBJ,IAAnB,EAAyBK,SAAzB,EAAN;QAEAJ,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAiDF,IAAjD;QACAC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,OAAI,CAAChC,SAAL,CAAeoC,WAAhD,EARE,CAUF;;QACA,MAAM/C,mEAAA,CAAgB;UAAEwC,GAAG,EAAE,WAAP;UAAoBF,KAAK,EAAEG;QAA3B,CAAhB,CAAN,CAXE,CAaF;;QACA,MAAMuG,eAAe,SAAS,OAAI,CAACrI,SAAL,CAAe4B,GAAf,CAAmB,UAAnB,EAA+BO,SAA/B,EAA9B;QACAJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCqG,eAAjC;MAED,CAjBD,CAiBE,OAAO9F,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;MACD;IArB8B;EAsBhC;;EAEK+F,iBAAiB;IAAA;;IAAA;MACrB,IAAI;QACF,MAAMC,QAAQ,SAASC,KAAK,CAAC,wBAAD,CAA5B;QACA,MAAMzF,IAAI,SAASwF,QAAQ,CAACE,IAAT,EAAnB;QACA,MAAM7C,WAAW,GAAG7C,IAAI,CAACY,OAAzB;;QACA,MAAM+E,eAAe,GAAG,OAAI,CAACzI,WAAL,CAAiB0I,IAAjB,CACtBhF,OAAO,IAAIA,OAAO,CAACP,OAAR,KAAoBwC,WADT,CAAxB;;QAGA,IAAI8C,eAAJ,EAAqB;UACnB,OAAI,CAACjI,WAAL,GAAmBiI,eAAe,CAACzF,QAAnC;UACA,OAAI,CAACvC,OAAL,GAAegI,eAAe,CAACzF,QAA/B;UACA,OAAI,CAACE,WAAL,GAAmByC,WAAnB;UACA,OAAI,CAAC1C,IAAL,GAAY,iDAAiD0C,WAAW,CAACnC,WAAZ,EAAyB,MAAtF;QACD,CALD,MAKO;UACL;UACA,OAAI,CAAChD,WAAL,GAAmB,KAAnB;UACA,OAAI,CAACC,OAAL,GAAe,KAAf;UACA,OAAI,CAACyC,WAAL,GAAmB,IAAnB;UACA,OAAI,CAACD,IAAL,GAAY,sDAAZ;QACD;MACF,CAnBD,CAmBE,OAAOX,KAAP,EAAc;QACdR,OAAO,CAACQ,KAAR,CAAc,0BAAd,EAA0CA,KAA1C,EADc,CAEd;;QACA,OAAI,CAAC9B,WAAL,GAAmB,KAAnB;QACA,OAAI,CAACC,OAAL,GAAe,KAAf;QACA,OAAI,CAACyC,WAAL,GAAmB,IAAnB;QACA,OAAI,CAACD,IAAL,GAAY,sDAAZ;MACD;IA3BoB;EA4BtB;;AAxbmB;;;mBAAT3D,WAASD,gEAAAA,CAAAA,4DAAAA,GAAAA,gEAAAA,CAAAA,+DAAAA,GAAAA,gEAAAA,CAAAA,oDAAAA,GAAAA,gEAAAA,CAAAA,mEAAAA,GAAAA,gEAAAA,CAAAA,qEAAAA,GAAAA,gEAAAA,CAAAA,4DAAAA,GAAAA,gEAAAA,CAAAA,qDAAAA,GAAAA,gEAAAA,CAAAA,kEAAAA;AAAA;;;QAATC;EAASqJ;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCpBtB1J,6DAAAA,qBAAuD,CAAvD,EAAuD,aAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,WAAvD,EAAuD,CAAvD,EAAuD,CAAvD,EAAuD,IAAvD;MAGUA,qDAAAA;;MAA4BA,2DAAAA;MAChCA,6DAAAA;MAAmBA,qDAAAA;;MAA+BA,2DAAAA;MAKxDA,6DAAAA,sBAAmC,EAAnC,EAAmC,KAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,KAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,YAAnC,EAAmC,CAAnC,EAAmC,EAAnC,EAAmC,WAAnC;MAMUA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;MAKJA,6DAAAA,gBAA4B,EAA5B,EAA4B,MAA5B,EAA4B,EAA5B;MAEIA,wDAAAA;MAGAA,6DAAAA,qBAAmC,EAAnC,EAAmC,kBAAnC,EAAmC,EAAnC,EAAmC,EAAnC,EAAmC,KAAnC,EAAmC,EAAnC,EAAmC,EAAnC,EAAmC,QAAnC,EAAmC,EAAnC;MAIuDA,yDAAAA;QAAA,OAAS2J,4BAAT;MAAiC,CAAjC;MAC/C3J,wDAAAA;MACAA,6DAAAA;MAA2BA,qDAAAA;MAAiBA,2DAAAA;MAC5CA,wDAAAA;MACFA,2DAAAA;MAGAA,6DAAAA,gBAAiC,EAAjC,EAAiC,WAAjC,EAAiC,EAAjC;MAGIA,yDAAAA;QAAA,OAAY2J,UAAZ;MAAkB,CAAlB,EAAmB,SAAnB,EAAmB;QAAA,OAAYA,UAAZ;MAAkB,CAArC;;MACF3J,2DAAAA;MAKJA,yDAAAA;MAUFA,2DAAAA;MAIFA,6DAAAA;MACkBA,yDAAAA;QAAA,OAAS2J,YAAT;MAAiB,CAAjB;MAChB3J,yDAAAA;MACAA,yDAAAA;MACAA,yDAAAA;MACFA,2DAAAA;MAMNA,6DAAAA,oBAA8E,EAA9E,EAA8E,gBAA9E,EAA8E,EAA9E;MAEIA,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA,yBAAyB,EAAzB,EAAyB,gBAAzB,EAAyB,EAAzB;MACkBA,yDAAAA;QAAA,OAAS2J,mBAAe,IAAf,CAAT;MAA6B,CAA7B;MACd3J,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MAAgBA,yDAAAA;QAAA,OAAS2J,mBAAe,IAAf,CAAT;MAA6B,CAA7B;MACd3J,wDAAAA;MACFA,2DAAAA;MACAA,6DAAAA;MAAgBA,yDAAAA;QAAA,OAAS2J,mBAAe,IAAf,CAAT;MAA6B,CAA7B;MACd3J,wDAAAA;MACFA,2DAAAA;MAMNA,6DAAAA;MACEA,wDAAAA;MACFA,2DAAAA;;;;MAlGYA,yDAAAA;MAGFA,wDAAAA;MAAAA,gEAAAA,CAAAA,0DAAAA;MACeA,wDAAAA;MAAAA,gEAAAA,CAAAA,0DAAAA;MASMA,wDAAAA;MAAAA,yDAAAA;MAenBA,wDAAAA;MAAAA,yDAAAA;MASSA,wDAAAA;MAAAA,yDAAAA,kBAAAA,4DAAAA;MACsBA,wDAAAA;MAAAA,gEAAAA;MAOzBA,wDAAAA;MAAAA,yDAAAA,gBAAAA,0DAAAA;MAOyBA,wDAAAA;MAAAA,yDAAAA;MAcqCA,wDAAAA;MAAAA,yDAAAA;MAE1DA,wDAAAA;MAAAA,yDAAAA;MACDA,wDAAAA;MAAAA,yDAAAA;MACGA,wDAAAA;MAAAA,yDAAAA","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [LoginPage],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\r\nimport { OtpComponent } from '../otp/otp.component';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { environment } from '../../environments/environment';\r\nimport { OverlayService } from '../services/overlay.service';\r\nimport { StatusBar } from '@capacitor/status-bar';\r\nimport { AvatarService } from '../services/avatar.service';\r\nimport { SplashScreen } from '@capacitor/splash-screen';\r\nimport { CountrySearchModalComponent } from '../country-search-modal/country-search-modal.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Preferences } from '@capacitor/preferences';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n  CountryCode: any;\r\n  CountryJson = environment.CountryJson;\r\n  flag: any = \"https://cdn.kcak11.com/CountryFlags/countries/my.svg\";\r\n  filteredCountries = [];\r\n  user: any;\r\n  approve: boolean;\r\n  approve2: boolean;\r\n  userCountry: string = 'MY'; // Default to Malaysia\r\n\r\n  slideOpts = {\r\n    initialSlide: 0,\r\n    speed: 400,\r\n    autoplay: {\r\n      delay: 3000,\r\n      disableOnInteraction: false\r\n    },\r\n    pagination: {\r\n      clickable: true\r\n    }\r\n  };\r\n\r\n  numberT: string;\r\n  backButtonSubscription: any;\r\n\r\n  constructor(\r\n    private modalCtrl: ModalController,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private avatar: AvatarService,\r\n    private overlay: OverlayService,\r\n    private alertController: AlertController,\r\n    private platform: Platform,\r\n    private translate: TranslateService\r\n  ) {\r\n    // Set Malaysia as default - no auto-detection\r\n    this.CountryCode = '+60';\r\n    this.numberT = '+60';\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.form = new FormGroup({\r\n      phone: new FormControl(null, {\r\n        validators: [Validators.required, Validators.minLength(10), Validators.maxLength(10)]\r\n      }),\r\n    });\r\n\r\n    this.filteredCountries = this.CountryJson;\r\n\r\n    // Load saved language from Preferences\r\n    await this.loadLanguage();\r\n\r\n    // Initialize reCAPTCHA after a short delay to ensure DOM is ready\r\n    setTimeout(() => {\r\n      this.auth.recaptcha();\r\n    }, 500);\r\n\r\n    this.initializeBackButtonCustomHandler(); // Initialize back button handler\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.backButtonSubscription) {\r\n      this.backButtonSubscription.unsubscribe();\r\n    }\r\n    // Clean up reCAPTCHA\r\n    this.auth.clearRecaptcha();\r\n  }\r\n\r\n  async loadLanguage() {\r\n    try {\r\n      const { value } = await Preferences.get({ key: 'user-lang' });\r\n      const lang = value || 'ms';\r\n      console.log('Loading language:', lang);\r\n\r\n      // Set default language first\r\n      this.translate.setDefaultLang(lang);\r\n\r\n      // Then use it\r\n      await this.translate.use(lang).toPromise();\r\n\r\n      console.log('Current language:', this.translate.currentLang);\r\n      console.log('Default language:', this.translate.getDefaultLang());\r\n\r\n      // Test if translations are loaded\r\n      const testKey = await this.translate.get('APP_NAME').toPromise();\r\n      console.log('APP_NAME translation:', testKey);\r\n\r\n    } catch (error) {\r\n      console.error('Error loading language:', error);\r\n      this.translate.setDefaultLang('ms');\r\n      await this.translate.use('ms').toPromise();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  async HideSplash() {\r\n    await SplashScreen.hide();\r\n  }\r\n\r\n  async openCountrySearchModal() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: CountrySearchModalComponent\r\n    });\r\n\r\n    await modal.present();\r\n\r\n    const { data } = await modal.onWillDismiss();\r\n    if (data) {\r\n      console.log('Selected country:', data);\r\n      this.CountryCode = data.dialCode;\r\n      this.numberT = data.dialCode;\r\n      this.flag = data.flag;\r\n      this.userCountry = data.isoCode;\r\n    }\r\n  }\r\n\r\n  filterCountries(event: any) {\r\n    const searchTerm = event.target.value.toLowerCase();\r\n    this.filteredCountries = this.CountryJson.filter(country =>\r\n      country.name.toLowerCase().includes(searchTerm) ||\r\n      country.dialCode.includes(searchTerm)\r\n    );\r\n  }\r\n\r\n  countryCodeChange($event: any) {\r\n    this.CountryCode = '';\r\n    this.numberT = $event.detail.value.toString();\r\n  }\r\n\r\n  async Show() {\r\n    await StatusBar.setOverlaysWebView({ overlay: false });\r\n  }\r\n\r\n  async Hide() {\r\n    await StatusBar.setOverlaysWebView({ overlay: true });\r\n  }\r\n\r\n  async signIn() {\r\n    try {\r\n      if (!this.form.valid) {\r\n        const errorMessage = this.form.get('phone').hasError('required')\r\n          ? await this.translate.get('MOBILE_REQUIRED').toPromise()\r\n          : await this.translate.get('MOBILE_INVALID').toPromise();\r\n        this.overlay.showAlert(\r\n          await this.translate.get('ERROR').toPromise(),\r\n          errorMessage\r\n        );\r\n        return;\r\n      }\r\n\r\n      this.overlay.showLoader('');\r\n      const fullPhoneNumber = this.numberT + this.form.value.phone;\r\n\r\n      let confirmationResult;\r\n      let isTestMode = false;\r\n\r\n      try {\r\n        confirmationResult = await this.auth.signInWithPhoneNumber(fullPhoneNumber);\r\n      } catch (authError) {\r\n        console.error('Authentication error:', authError);\r\n        this.overlay.hideLoader();\r\n\r\n        // Errors that can use test mode fallback\r\n        const fallbackEligibleErrors = [\r\n          'auth/too-many-requests',\r\n          'auth/invalid-app-credential',\r\n          'auth/quota-exceeded',\r\n          'auth/captcha-check-failed',\r\n          'auth/internal-error'\r\n        ];\r\n\r\n        if (fallbackEligibleErrors.includes(authError.code)) {\r\n          // First, show the actual error to the user\r\n          const shouldOfferTestMode = await this.showErrorWithTestModeOption(authError.code);\r\n          if (shouldOfferTestMode) {\r\n            return this.switchToTestMode();\r\n          } else {\r\n            return; // User chose not to use test mode\r\n          }\r\n        }\r\n\r\n        // For other errors, show specific message without test mode option\r\n        await this.handleAuthError(authError);\r\n        return;\r\n      }\r\n\r\n      let storedOTP = localStorage.getItem('defaultOTP') || '';\r\n      this.overlay.hideLoader();\r\n\r\n      const modal = await this.modalCtrl.create({\r\n        component: OtpComponent,\r\n        componentProps: {\r\n          defaultOtp: storedOTP,\r\n          phone: this.form.value.phone,\r\n          countryCode: this.numberT,\r\n          confirmationResult: confirmationResult,\r\n          isTestMode: isTestMode\r\n        },\r\n        swipeToClose: true\r\n      });\r\n\r\n      await modal.present();\r\n      const { data } = await modal.onWillDismiss();\r\n\r\n      if (!data?.user) return;\r\n\r\n      await this.navigateAfterLogin(data.user);\r\n\r\n    } catch (e) {\r\n      console.error('Unexpected sign-in error:', e);\r\n      this.overlay.hideLoader();\r\n      await this.handleAuthError(e);\r\n    }\r\n  }\r\n\r\n  async showErrorWithTestModeOption(errorCode: string): Promise<boolean> {\r\n    let errorTitle = '';\r\n    let errorMessage = '';\r\n    let errorDetails = '';\r\n\r\n    // Get the specific error information\r\n    switch (errorCode) {\r\n      case 'auth/too-many-requests':\r\n        errorTitle = await this.translate.get('TOO_MANY_REQUESTS_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('TOO_MANY_REQUESTS_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('TOO_MANY_REQUESTS_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/quota-exceeded':\r\n      case 'auth/invalid-app-credential':\r\n        errorTitle = await this.translate.get('SMS_QUOTA_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('SMS_QUOTA_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('SMS_QUOTA_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/captcha-check-failed':\r\n        errorTitle = await this.translate.get('CAPTCHA_FAILED_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('CAPTCHA_FAILED_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('CAPTCHA_FAILED_CAUSE').toPromise();\r\n        break;\r\n      case 'auth/internal-error':\r\n        errorTitle = await this.translate.get('INTERNAL_ERROR_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('INTERNAL_ERROR_DETAIL').toPromise();\r\n        errorDetails = await this.translate.get('INTERNAL_ERROR_CAUSE').toPromise();\r\n        break;\r\n      default:\r\n        errorTitle = await this.translate.get('AUTH_UNAVAILABLE_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('AUTH_UNAVAILABLE_DETAIL').toPromise();\r\n        errorDetails = '';\r\n    }\r\n\r\n    // Combine the error message with details\r\n    const fullMessage = errorDetails\r\n      ? `${errorMessage}\\n\\n${errorDetails}\\n\\n${await this.translate.get('TEST_MODE_OFFER').toPromise()}`\r\n      : `${errorMessage}\\n\\n${await this.translate.get('TEST_MODE_OFFER').toPromise()}`;\r\n\r\n    return new Promise(async (resolve) => {\r\n      const alert = await this.alertController.create({\r\n        header: errorTitle,\r\n        message: fullMessage,\r\n        cssClass: 'error-alert',\r\n        buttons: [\r\n          {\r\n            text: await this.translate.get('CLOSE').toPromise(),\r\n            role: 'cancel',\r\n            cssClass: 'secondary',\r\n            handler: () => resolve(false)\r\n          },\r\n          {\r\n            text: await this.translate.get('USE_TEST_MODE').toPromise(),\r\n            cssClass: 'primary',\r\n            handler: () => resolve(true)\r\n          }\r\n        ]\r\n      });\r\n      await alert.present();\r\n    });\r\n  }\r\n\r\n  async switchToTestMode() {\r\n    this.CountryCode = '+60';\r\n    this.numberT = '+60';\r\n    const defaultNumbers = ['123456789', '987654321'];\r\n    const randomDefaultNumber = defaultNumbers[Math.floor(Math.random() * defaultNumbers.length)];\r\n    this.form.controls['phone'].setValue(randomDefaultNumber);\r\n    localStorage.setItem('defaultOTP', '123456');\r\n\r\n    // Show info about test mode\r\n    await this.overlay.showAlert(\r\n      await this.translate.get('TEST_MODE_TITLE').toPromise(),\r\n      await this.translate.get('TEST_MODE_MESSAGE').toPromise() + `\\n\\nðŸ“± ${await this.translate.get('PHONE').toPromise()}: +60${randomDefaultNumber}\\nðŸ” OTP: 123456`\r\n    );\r\n  }\r\n\r\n  async handleAuthError(error: any) {\r\n    let errorTitle = await this.translate.get('ERROR').toPromise();\r\n    let errorMessage = '';\r\n\r\n    switch (error.code) {\r\n      case 'auth/invalid-phone-number':\r\n        errorMessage = await this.translate.get('MOBILE_INVALID').toPromise();\r\n        break;\r\n\r\n      case 'auth/missing-phone-number':\r\n        errorMessage = await this.translate.get('MOBILE_REQUIRED').toPromise();\r\n        break;\r\n\r\n      case 'auth/network-request-failed':\r\n        errorMessage = await this.translate.get('NETWORK_ERROR').toPromise();\r\n        break;\r\n\r\n      case 'auth/too-many-requests':\r\n        errorTitle = await this.translate.get('TOO_MANY_REQUESTS_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('TOO_MANY_REQUESTS').toPromise();\r\n        break;\r\n\r\n      case 'auth/invalid-app-credential':\r\n      case 'auth/quota-exceeded':\r\n        errorTitle = await this.translate.get('SMS_QUOTA_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('SMS_QUOTA_MESSAGE').toPromise();\r\n        break;\r\n\r\n      case 'auth/captcha-check-failed':\r\n        errorTitle = await this.translate.get('CAPTCHA_FAILED_TITLE').toPromise();\r\n        errorMessage = await this.translate.get('CAPTCHA_FAILED_MESSAGE').toPromise();\r\n        break;\r\n\r\n      default:\r\n        errorMessage = `${await this.translate.get('SIGN_IN_ERROR').toPromise()} ${error.code || error.message || 'Unknown error'}`;\r\n        break;\r\n    }\r\n\r\n    await this.overlay.showAlert(errorTitle, errorMessage);\r\n  }\r\n\r\n  async navigateAfterLogin(user: any) {\r\n    try {\r\n      // Check if user has a rider profile\r\n      const hasRiderProfile = await this.avatar.checkRiderProfile(user.uid);\r\n\r\n      if (hasRiderProfile) {\r\n        // Existing rider - go to home\r\n        this.router.navigateByUrl('/home', { replaceUrl: true });\r\n      } else {\r\n        // New user - complete profile\r\n        this.router.navigateByUrl('/details', { replaceUrl: true });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking user profile:', error);\r\n      // If error occurs, assume new user and redirect to details\r\n      this.router.navigateByUrl('/details', { replaceUrl: true });\r\n    }\r\n  }\r\n\r\n  initializeBackButtonCustomHandler() {\r\n    this.backButtonSubscription = this.platform.backButton.subscribeWithPriority(10, () => {\r\n      this.handleBackButton();\r\n    });\r\n  }\r\n\r\n  async handleBackButton() {\r\n    try {\r\n      await this.showExitConfirmation();\r\n    } catch (error) {\r\n      console.error('Error handling back button:', error);\r\n    }\r\n  }\r\n\r\n  async showExitConfirmation() {\r\n    const alert = await this.alertController.create({\r\n      header: await this.translate.get('EXIT_APP').toPromise(),\r\n      message: await this.translate.get('EXIT_CONFIRM').toPromise(),\r\n      buttons: [\r\n        {\r\n          text: await this.translate.get('CANCEL').toPromise(),\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: await this.translate.get('EXIT').toPromise(),\r\n          handler: () => {\r\n            navigator['app'].exitApp();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async changeLanguage(lang: string) {\r\n    console.log('Changing language to:', lang);\r\n    try {\r\n      // Set the language immediately\r\n      this.translate.setDefaultLang(lang);\r\n\r\n      // Use the translation service to switch language and wait for it\r\n      await this.translate.use(lang).toPromise();\r\n\r\n      console.log('Language successfully changed to:', lang);\r\n      console.log('Current language:', this.translate.currentLang);\r\n\r\n      // Save to preferences\r\n      await Preferences.set({ key: 'user-lang', value: lang });\r\n\r\n      // Force reload translations by getting a test key\r\n      const testTranslation = await this.translate.get('APP_NAME').toPromise();\r\n      console.log('Test translation:', testTranslation);\r\n\r\n    } catch (error) {\r\n      console.error('Error changing language:', error);\r\n    }\r\n  }\r\n\r\n  async detectUserCountry() {\r\n    try {\r\n      const response = await fetch('https://ipapi.co/json/');\r\n      const data = await response.json();\r\n      const countryCode = data.country;\r\n      const matchingCountry = this.CountryJson.find(\r\n        country => country.isoCode === countryCode\r\n      );\r\n      if (matchingCountry) {\r\n        this.CountryCode = matchingCountry.dialCode;\r\n        this.numberT = matchingCountry.dialCode;\r\n        this.userCountry = countryCode;\r\n        this.flag = `https://cdn.kcak11.com/CountryFlags/countries/${countryCode.toLowerCase()}.svg`;\r\n      } else {\r\n        // If country not found, keep Malaysia as default\r\n        this.CountryCode = '+60';\r\n        this.numberT = '+60';\r\n        this.userCountry = 'MY';\r\n        this.flag = 'https://cdn.kcak11.com/CountryFlags/countries/my.svg';\r\n      }\r\n    } catch (error) {\r\n      console.error('Error detecting country:', error);\r\n      // On error, ensure Malaysia defaults are set\r\n      this.CountryCode = '+60';\r\n      this.numberT = '+60';\r\n      this.userCountry = 'MY';\r\n      this.flag = 'https://cdn.kcak11.com/CountryFlags/countries/my.svg';\r\n    }\r\n  }\r\n}\r\n","<ion-header [translucent]=\"true\" class=\"ion-no-border\">\r\n  <ion-toolbar class=\"header-toolbar\">\r\n    <ion-title class=\"app-title\">\r\n      <h1>{{ 'APP_NAME' | translate }}</h1>\r\n      <p class=\"tagline\">{{ 'APP_TAGLINE' | translate }}</p>\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"login-content\">\r\n  <div class=\"content-wrapper\">\r\n    <!-- Image Slider -->\r\n    <div class=\"slider-container\">\r\n      <ion-slides pager=\"true\" [options]=\"slideOpts\">\r\n        <ion-slide>\r\n          <ion-img src=\"../assets/imgs/main.svg\"></ion-img>\r\n        </ion-slide>\r\n        <ion-slide>\r\n          <ion-img src=\"../assets/imgs/main1.svg\"></ion-img>\r\n        </ion-slide>\r\n        <ion-slide>\r\n          <ion-img src=\"../assets/imgs/main2.svg\"></ion-img>\r\n        </ion-slide>\r\n      </ion-slides>\r\n    </div>\r\n\r\n    <!-- Login Form -->\r\n    <div class=\"form-container\">\r\n      <form [formGroup]=\"form\">\r\n        <div id=\"sign-in-button\"></div>\r\n\r\n        <!-- Phone Input Card -->\r\n        <ion-card class=\"phone-input-card\">\r\n          <ion-card-content class=\"card-content\">\r\n            <div class=\"input-wrapper\">\r\n              <!-- Country Code Button -->\r\n              <button type=\"button\" class=\"country-select-btn\" (click)=\"openCountrySearchModal()\">\r\n                <img [src]=\"flag\" class=\"country-flag\" alt=\"country flag\">\r\n                <span class=\"country-code\">{{ CountryCode }}</span>\r\n                <ion-icon name=\"chevron-down-outline\" class=\"dropdown-icon\"></ion-icon>\r\n              </button>\r\n\r\n              <!-- Phone Number Input -->\r\n              <div class=\"phone-input-wrapper\">\r\n                <ion-input class=\"phone-input\" type=\"tel\" formControlName=\"phone\"\r\n                  [placeholder]=\"'MOBILE_NUMBER' | translate\" clearInput minlength=\"10\" maxlength=\"10\"\r\n                  (ionFocus)=\"Show()\" (ionBlur)=\"Hide()\">\r\n                </ion-input>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Validation Error -->\r\n            <div class=\"validation-error\" *ngIf=\"!form.get('phone').valid && form.get('phone').touched\">\r\n              <ion-text color=\"danger\">\r\n                <small *ngIf=\"form.get('phone').hasError('required')\">\r\n                  {{ 'MOBILE_REQUIRED' | translate }}\r\n                </small>\r\n                <small *ngIf=\"form.get('phone').hasError('minlength') && !form.get('phone').hasError('required')\">\r\n                  {{ 'MOBILE_INVALID' | translate }}\r\n                </small>\r\n              </ion-text>\r\n            </div>\r\n          </ion-card-content>\r\n        </ion-card>\r\n\r\n        <!-- Submit Button -->\r\n        <ion-button class=\"submit-btn\" shape=\"round\" size=\"large\" type=\"submit\" [disabled]=\"!form.get('phone').valid\"\r\n          color=\"primary\" (click)=\"signIn()\" expand=\"block\">\r\n          <ion-label *ngIf=\"!approve2\">{{ 'CONTINUE' | translate }}</ion-label>\r\n          <ion-icon *ngIf=\"!approve2\" slot=\"end\" name=\"arrow-forward-outline\"></ion-icon>\r\n          <ion-spinner *ngIf=\"approve2\" name=\"crescent\"></ion-spinner>\r\n        </ion-button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Language Selector FAB -->\r\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\" class=\"language-fab\">\r\n    <ion-fab-button size=\"small\" color=\"light\">\r\n      <ion-icon name=\"language-outline\"></ion-icon>\r\n    </ion-fab-button>\r\n    <ion-fab-list side=\"top\">\r\n      <ion-fab-button (click)=\"changeLanguage('en')\" color=\"light\" size=\"small\">\r\n        <ion-img src=\"https://cdn.kcak11.com/CountryFlags/countries/us.svg\"></ion-img>\r\n      </ion-fab-button>\r\n      <ion-fab-button (click)=\"changeLanguage('ms')\" color=\"light\" size=\"small\">\r\n        <ion-img src=\"https://cdn.kcak11.com/CountryFlags/countries/my.svg\"></ion-img>\r\n      </ion-fab-button>\r\n      <ion-fab-button (click)=\"changeLanguage('ar')\" color=\"light\" size=\"small\">\r\n        <ion-img src=\"https://cdn.kcak11.com/CountryFlags/countries/sa.svg\"></ion-img>\r\n      </ion-fab-button>\r\n    </ion-fab-list>\r\n  </ion-fab>\r\n\r\n</ion-content>\r\n\r\n<ion-footer class=\"ion-no-border\">\r\n  <div id=\"recaptcha-container\"></div>\r\n</ion-footer>"],"names":["FormControl","FormGroup","Validators","OtpComponent","environment","StatusBar","SplashScreen","CountrySearchModalComponent","Preferences","i0","LoginPage","constructor","modalCtrl","auth","router","avatar","overlay","alertController","platform","translate","CountryJson","initialSlide","speed","autoplay","delay","disableOnInteraction","pagination","clickable","CountryCode","numberT","ngOnInit","form","phone","validators","required","minLength","maxLength","filteredCountries","loadLanguage","setTimeout","recaptcha","initializeBackButtonCustomHandler","ngOnDestroy","backButtonSubscription","unsubscribe","clearRecaptcha","value","get","key","lang","console","log","setDefaultLang","use","toPromise","currentLang","getDefaultLang","testKey","error","HideSplash","hide","openCountrySearchModal","modal","create","component","present","data","onWillDismiss","dialCode","flag","userCountry","isoCode","filterCountries","event","searchTerm","target","toLowerCase","filter","country","name","includes","countryCodeChange","$event","detail","toString","Show","setOverlaysWebView","Hide","signIn","valid","errorMessage","hasError","showAlert","showLoader","fullPhoneNumber","confirmationResult","isTestMode","signInWithPhoneNumber","authError","hideLoader","fallbackEligibleErrors","code","shouldOfferTestMode","showErrorWithTestModeOption","switchToTestMode","handleAuthError","storedOTP","localStorage","getItem","componentProps","defaultOtp","countryCode","swipeToClose","user","navigateAfterLogin","e","errorCode","errorTitle","errorDetails","fullMessage","Promise","resolve","alert","header","message","cssClass","buttons","text","role","handler","defaultNumbers","randomDefaultNumber","Math","floor","random","length","controls","setValue","setItem","hasRiderProfile","checkRiderProfile","uid","navigateByUrl","replaceUrl","backButton","subscribeWithPriority","handleBackButton","showExitConfirmation","navigator","exitApp","changeLanguage","set","testTranslation","detectUserCountry","response","fetch","json","matchingCountry","find","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}